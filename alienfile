use alienfile;

probe sub { 'share' };

share {
  my $version = '0.16.2.0-beta';
  plugin Download => (
    url => "http://download.newrelic.com/agent_sdk/nr_agent_sdk-v$version.x86_64.tar.gz",
  );
  plugin Extract => 'tar.gz';
  
  build [
    # since this only works on 64bit linux
    # don't really have to worry about
    # portability so we can use all the unixisms
    # we want!
    'mkdir -p %{.install.prefix}/include',
    'mkdir -p %{.install.prefix}/lib',
    'cp -a include/* %{.install.prefix}/include',
    'cp -a lib/* %{.install.prefix}/lib',
  ];
  
  gather sub {
    my($build) = @_;
    $build->runtime_prop->{version} = $version;
  };
}
